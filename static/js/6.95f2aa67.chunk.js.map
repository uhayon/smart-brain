{"version":3,"sources":["../node_modules/react-router-dom/es/Link.js","components/SignUp/SignUp.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","invariant__WEBPACK_IMPORTED_MODULE_2__","invariant__WEBPACK_IMPORTED_MODULE_2___default","history__WEBPACK_IMPORTED_MODULE_3__","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_possibleConstructorReturn","self","ReferenceError","isModifiedEvent","event","metaKey","altKey","ctrlKey","shiftKey","Link","_React$Component","_temp","_this","instance","Constructor","TypeError","_classCallCheck","this","_len","args","Array","_key","apply","concat","handleClick","props","onClick","defaultPrevented","button","preventDefault","history","context","router","_this$props","replace","to","push","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","render","_props","innerRef","obj","keys","indexOf","_objectWithoutProperties","undefined","location","href","createHref","a","createElement","ref","Component","propTypes","func","string","bool","oneOfType","object","isRequired","defaultProps","contextTypes","shape","__webpack_exports__","SignUp","_Volumes_Macintosh_HDD_Users_uhayon_Documents_Projects_smart_brain_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Volumes_Macintosh_HDD_Users_uhayon_Documents_Projects_smart_brain_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Volumes_Macintosh_HDD_Users_uhayon_Documents_Projects_smart_brain_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","handleFullnameChange","fullname","setState","formErrors","_Volumes_Macintosh_HDD_Users_uhayon_Documents_Projects_smart_brain_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","state","trim","formData","handleUsernameChange","username","handlePasswordChange","password","fieldsValid","_this$state$formData","fullnameValid","passwordValid","usernameValid","onInputKeyPress","setUserLogged","onSubmitSignUp","fetch","method","headers","Content-Type","body","JSON","stringify","then","response","ok","json","Error","data","userId","success","saveAuthTokenInSession","token","loadUser","catch","sessionStorage","setItem","localStorage","getItem","Authorization","user","_this2","_this$state$formData2","_this$state$formError","fullnameErrorState","usernameErrorState","passwordErrorState","react__WEBPACK_IMPORTED_MODULE_6___default","_contexts_LoggedUserContext__WEBPACK_IMPORTED_MODULE_9__","_ref","className","id","_Input_Input__WEBPACK_IMPORTED_MODULE_8__","errorState","onInputChange","inputValue","_ref2","errorMessage","label","_ref3","_ref4","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","React"],"mappings":"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","file":"static/js/6.95f2aa67.chunk.js","sourcesContent":["var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"invariant\";\nimport { createLocation } from \"history\";\n\nvar isModifiedEvent = function isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n};\n/**\n * The public API for rendering a history-aware <a>.\n */\n\n\nvar Link = function (_React$Component) {\n  _inherits(Link, _React$Component);\n\n  function Link() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Link);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleClick = function (event) {\n      if (_this.props.onClick) _this.props.onClick(event);\n\n      if (!event.defaultPrevented && // onClick prevented default\n      event.button === 0 && // ignore everything but left clicks\n      !_this.props.target && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n          event.preventDefault();\n          var history = _this.context.router.history;\n          var _this$props = _this.props,\n              replace = _this$props.replace,\n              to = _this$props.to;\n\n          if (replace) {\n            history.replace(to);\n          } else {\n            history.push(to);\n          }\n        }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Link.prototype.render = function render() {\n    var _props = this.props,\n        replace = _props.replace,\n        to = _props.to,\n        innerRef = _props.innerRef,\n        props = _objectWithoutProperties(_props, [\"replace\", \"to\", \"innerRef\"]); // eslint-disable-line no-unused-vars\n\n\n    invariant(this.context.router, \"You should not use <Link> outside a <Router>\");\n    invariant(to !== undefined, 'You must specify the \"to\" property');\n    var history = this.context.router.history;\n    var location = typeof to === \"string\" ? createLocation(to, null, null, history.location) : to;\n    var href = history.createHref(location);\n    return React.createElement(\"a\", _extends({}, props, {\n      onClick: this.handleClick,\n      href: href,\n      ref: innerRef\n    }));\n  };\n\n  return Link;\n}(React.Component);\n\nLink.propTypes = {\n  onClick: PropTypes.func,\n  target: PropTypes.string,\n  replace: PropTypes.bool,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  innerRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n};\nLink.defaultProps = {\n  replace: false\n};\nLink.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired,\n      createHref: PropTypes.func.isRequired\n    }).isRequired\n  }).isRequired\n};\nexport default Link;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Input from '../Input/Input';\nimport { LoggedUserConsumer } from '../../contexts/LoggedUserContext';\n\nclass SignUp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      formData: {\n        fullname: '',\n        username: '',\n        password: ''\n      },\n      formErrors: {\n        fullname: false,\n        username: false,\n        password: false\n      }\n    }\n  }\n\n  handleFullnameChange = event => {\n    const { value: fullname } = event.target;\n    this.setState({\n      formErrors: {\n        ...this.state.formErrors,\n        fullname: fullname.trim().length === 0\n      },\n      formData: {\n        ...this.state.formData,\n        fullname\n      }   \n    });\n  }\n\n  handleUsernameChange = event => {\n    const { value: username } = event.target;\n    this.setState({\n      formErrors: {\n        ...this.state.formErrors,\n        username: false\n      },\n      formData: {\n        ...this.state.formData,\n        username\n      }   \n    });\n  }\n\n  handlePasswordChange = event => {\n    const { value: password } = event.target;\n    this.setState({\n      formErrors: {\n        ...this.state.formErrors,\n        password: password.length < 8\n      },\n      formData: {\n        ...this.state.formData,\n        password: password\n      }   \n    });\n  }\n\n  fieldsValid = () => {\n    const { fullname, username, password } = this.state.formData;\n    const fullnameValid = fullname.trim().length > 0;\n    const passwordValid = password.trim().length >= 8;\n    const usernameValid = username.trim().length > 0 && !this.state.formErrors.username;\n\n    this.setState({\n      formErrors: {\n        fullname: !fullnameValid,\n        username: !usernameValid,\n        password: !passwordValid\n      }\n    });\n\n    return fullnameValid && passwordValid && usernameValid;\n  }\n\n  onInputKeyPress = (key, setUserLogged) => {\n    if (key === 'Enter') {\n      this.onSubmitSignUp(setUserLogged);\n    }\n  }\n\n  onSubmitSignUp = setUserLogged => {\n    if (!this.fieldsValid()) {\n      return;\n    }\n\n    fetch(`https://ur-smart-brain-api.herokuapp.com/signup`, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state.formData)\n    })\n    .then(response => {\n      if (response.ok) {\n        return response.json(); \n      }\n      \n      throw Error();\n    })\n    .then(data => {\n      if (data.userId && data.success === 'true') {\n        this.saveAuthTokenInSession(data.token);\n        return this.loadUser(data.userId, setUserLogged);\n      }\n      throw Error();\n    })\n    .catch(() => {\n      this.setState({\n        formErrors: {\n          ...this.state.formErrors,\n          username: true\n        }\n      })\n    });\n  }\n\n  saveAuthTokenInSession = token => {\n    sessionStorage.setItem('token', token);\n  }\n\n  loadUser = (userId, setUserLogged) => {\n    const token = localStorage.getItem('token') || sessionStorage.getItem('token');\n    fetch(`https://ur-smart-brain-api.herokuapp.com/profile/${userId}`, {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    })\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw Error();\n        }\n      })\n      .then(user => setUserLogged(true, user));\n  }\n\n  render() {\n    const { fullname, username, password } = this.state.formData;\n    const { fullname: fullnameErrorState, username: usernameErrorState, password: passwordErrorState } = this.state.formErrors;\n\n    return (\n      <LoggedUserConsumer>\n        {\n          ({ setUserLogged }) => {\n            return(\n              <article className='br3 ba dark-gray b--black-10 mv4 w-100 w-50-m mw6 center bg-black-translucent'>\n                <main className='pa4 black-80'>\n                <fieldset id='sign_in' className='white ba b--transparent ph0 mh0'>\n                  <legend className='f3 fw6 ph0 mh0'>Sign Up</legend>\n                  <div className='mt4'>\n                    <Input\n                      id='signup_fullname'\n                      errorState={fullnameErrorState}\n                      onInputChange={this.handleFullnameChange}\n                      inputValue={fullname}\n                      onInputKeyPress={({ key }) => this.onInputKeyPress(key, setUserLogged)}\n                      errorMessage='You must enter your name'\n\n                      label='Name' />\n                  </div>\n                  <div className='mv4'>\n                    <Input\n                        id='signup_username'\n                        errorState={usernameErrorState}\n                        onInputChange={this.handleUsernameChange}\n                        inputValue={username}\n                        errorMessage={username.trim().length > 0 ? 'The username is already taken' : 'You must enter a username'}\n                        onInputKeyPress={({ key }) => this.onInputKeyPress(key, setUserLogged)}\n                        label='Username' />\n                  </div>\n                  <div className='mv4'>\n                    <Input\n                        id='signup_password'\n                        errorState={passwordErrorState}\n                        onInputChange={this.handlePasswordChange}\n                        inputValue={password}\n                        errorMessage='The password must be at least 8 characters long'\n                        label='Password'\n                        onInputKeyPress={({ key }) => this.onInputKeyPress(key, setUserLogged)}\n                        password />\n                  </div>\n                </fieldset>\n                <div>\n                  <button \n                    className='b ph3 pv2 button-reset ba b--white white bg-transparent grow pointer f5 dib hover-bg-light-purple hover-black'\n                    onClick={() => this.onSubmitSignUp(setUserLogged)} >\n                    Sign Up\n                  </button>\n                </div>\n                <div className='lh-copy mt3'>\n                  <Link to='signin' className='f6 link dim white db'>Already have an account? Sign In!</Link>\n                </div>\n                </main>\n              </article>\n            );\n          }\n        }\n      </LoggedUserConsumer>\n    );\n  }\n};\n\nexport default SignUp;"],"sourceRoot":""}